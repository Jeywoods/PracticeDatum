# GeoTask
GeoDjango project with REST Framework
Стек: Python, Django, Django REST Framework, PostgreSQL, PostGIS

## 1. Создать новый проект Django + Django REST Framework. Авторизация и интерфейс администрирования не требуются.
Создан проект GeoTask.
## 2. Добавить в проект приложение с моделью Building, описывающую географическое положение и адрес строения. Требуются следующие поля:
- id - целочисленный первичный ключ с автоинкрементом;
- geom - полигональная геометрия в системе координат WGS84 (EPSG:4326);
- address - текстовая строка для хранения почтового адреса строения.

Модель создана.

## 3. Реализовать REST API для CRUD на базе ModelViewSet позволяющий создавать, изменять, удалять и получать записи таблицы building. Должен поддерживаться формат пространственных данных GeoJSON(RFC 7946). При обращении к элементам коллекции по id (методы GET, POST, UPDATE) долженпередаваться или возвращаться объект типа Feature, при обращении к коллекции в целом (метод GET) -объект FeatureCollection из спецификации GeoJSON. Пагинация результатов не требуется.
Список всех обьектов модели доступен по адресу http://127.0.0.1:8000/api/buildings/ Для обращения к конкретному элементу в конце нужно дописать номер нужного.

## 4. Добавить валидатор, проверяющий геометрию объекта на валидность при добавлении или изменении записи.
Валидатор внедрён в geom поле, модели Building с помощью сериализаторов.
## 5. Добавить фильтр, позволяющий отфильтровывать возвращаемые геометрические объекты в зависимости от их площади. Фильтр должен принимать в параметрах GET-запроса значение минимальной и (или)максимальной площади полигона в квадратных метрах.
Реализация двух фильтров находится в views.py
Фильтр был реализован, значения в запросе указывается в кв. метрах.
- http://127.0.0.1:8000/api/buildings/?min=100
- http://127.0.0.1:8000/api/buildings/?max=1000
- http://127.0.0.1:8000/api/buildings/?min=100&max=2000
## 6. Добавить фильтр, позволяющий отфильтровывать возвращаемые геометрические объекты в зависимости от их расстояния от заданной точки. Фильтр должен принимать в параметрах GET-запроса координатыточки (долготу и широту в системе координат WGS84) и максимальное расстояние в метрах. Должнывозвращаться объекты, попадающие в заданный радиус полностью или частично.
Использован rest_framework_gis.filters.DistanceToPointFilter затем, так как по условию растояние должно задаваться в метрах, использовался аргумент distance_filter_convert_meters = True.

- http://127.0.0.1:8000/api/buildings/?dist=5000&point=-2.0,-2.0
## 7. Добавить в проект тесты, проверяющие правильность работы фильтров.
Добавлены тесты для фильтров
